\section{Rolands Vierzehn}

Hier sind die 14 Rechenregeln, die uns der Prophet Roland L. auf Steintafeln gebracht hat. Das Studium dieser Aussagen über abelsche Kategorien hat dieses Handbuch motiviert.

Im folgenden sei $\mathcal A$ eine abelsche Kategorie und mit $X,
X_1 \overset{x_1}\monicr X,
X_2 \overset{x_2}\monicr X,
X'  \overset{x'}\monicr X,
Y,
Y_1 \overset{y_1}\monicr Y,
Y_2 \overset{y_2}\monicr Y,
Y'  \overset{y'}\monicr Y,
Z,
Z'  \overset{z'}\monicr Z$
seien Objekte und Unterobjekte dieser Kategorie gemeint.
Weiter seien $f:X\to Y, g:Y\to Z$ Pfeile.

\begin{defn}[Objektnotation]
Wir definieren
\begin{itemize}
\item $X_1 \cap X_2 := X_1\times_Z X_2$ als Unterobjekt von $X$ via $\fib(x_1, x_2)$.
\item $X_1+X_2 = \Bild(X_1 \oplus X_2 \to X)$ als Unterobjekt von $X$ via $\im(\join(x_1,x_2))$.
\item $f^{-1}(Y') = X \times_{f,Y,y'} Y'$ als Unterobjekt von $X$ via $\fib_1(f,y')$
\item $f(X') = \Bild(f.x')$ als Unterobjekt von $Y$ via $\im(f.x')$.
\end{itemize}
\end{defn}

\begin{bem}
Ohne Beweis habe ich oben angenommen, dass die vorkommenden Inklusionspfeile Monos sind, hier eine kurze Begründung: etc.pp. %TODO
\end{bem}

\begin{prop}[Reflexionsprinzip]
Unterobjekte und Quotientenobjekte stehen in enger Beziehung zueinander:

\begin{tabular}{rll}
   1.
&  $\cofib(\coker(x_1), \coker(x_2)) = \coker(\im(\join(x_1,x_2)))$
&  $X/X_1 \cap X/X_2 = X/(X_1+X_2)$ mit Schnitt in $\mathcal A^{op}$
\\ 2.
&  $\coim(\fork(\coker(x_1),\coker(x_2))) = \coker(\fib(x_1,x_2))$
&  $X/X_1 + X/X_2 = X/(X_1\cap X_2)$ mit Summe in $\mathcal A^{op}$
\\ 3.
&  $\coim(\coker(y').f) = \coker(\fib_1(f,y'))$
&  $f^{op}(Y/Y') = X/f^{-1}(Y')$ mit Bild in $\mathcal A^{op}$
\\ 4.
&  $\cofib_1(f,\coker(x')) = \coker(\im(f.x'))$
&  $(f^{op})^{-1}(X/X') = Y/f(X')$ mit Urbild in $\mathcal A^{op}$
\end{tabular}
Insbesondere können wir die Summe schreiben als $\im\join(x_1,x_2)
= \ker\cofib(\coker x_1,\coker x_2)$.
\end{prop}
\begin{bew}
%TODO
Beweise mich, ich bin nicht schwierig! (nur nervig!)
\end{bew}

\begin{lemm}[Regel (a)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $\im(0_{0,X}) = 0_{0,X}$
&  $f(0) = 0$
\\ 2.
&  $\im(f.\id_X) = \im(f)$
&  $f(X) = X$
\\ 3.
&  $\fib_1(f,0_{0,Y}) = \ker(f)$
&  $f^{-1}(0) = \Kern(f)$
\\ 4.
&  $\fib_1(f,\id_Y) = \id_X$
&  $f^{-1}(Y) = X$
\end{tabular}
\end{lemm}
\begin{bew}
Siehe Proposition \ref{ker-examples}.
\end{bew}

\begin{lemm}[Regel (b)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $\fib(x_1,x_2) = \fib(x_2,x_1)$  
&  $X_1 \cap X_2 = X_2 \cap X_1$
\\ 2.
&  $\im\join(x_1,x_2) = \im\join(x_2,x_1)$
&  $X_1 + X_2 = X_2 + X_1$
\end{tabular}
\end{lemm}
\begin{bew}
Die erste Aussage folgt aus der Kommutativität des Faserprodukts, die zweite aus der ersten via Reflexionsprinzip:
\begin{align*}
   & \im(\join(x_1,x_2))
\\=& \ker(\cofib(\coker(x_1),\coker(x_2)))
\\=& \ker(\cofib(\coker(x_2),\coker(x_1)))
\\=& \im(\join(x_2,x_1))
\end{align*}
\end{bew}

\begin{lemm}[Regel (c)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $\fib(x',\fib(x_1,x_2)) = \fib(\fib(x',x_1),x_2)$
&  $X' \cap (X_1 \cap X_2) = (X' \cap X_1) \cap X_2$
\\ 2.
&  $\im(\join(x',\im(\join(x_1,x_2)))) = \im(\join(\im(\join(x',x_1)),x_2))$
&  $X' + (X_1 + X_2) = (X' + X_1) + X_2$
\end{tabular}
\end{lemm}
\begin{bew}
%TODO
Die erste Aussage folgt aus der Assoziativität des Faserprodukts und die zweite folgt aus der ersten via Reflexionsprinzip.
\end{bew}

\begin{lemm}[Regel (d)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $\fib_1(g.f, z') = \fib_1(f, \fib_1(g, z'))$
&  $(g.f)^{-1}(Z') = f^{-1}(g^{-1}(Z'))$
\\ 2.
&  $\im(g.f.x') = \im(g.\im(f.x'))$
&  $(g.f)(X') = g(f(X'))$
\end{tabular}
\end{lemm}
\begin{bew}
Die erste Gleichung ist nur ein Spezialfall der Staffelung von Faserprodukten.

Die zweite Gleichung folgt unmittelbar, wenn wir die Epi-Mono-Zerlegung $f.x' = \im(f.x').\varepsilon$ einsetzen:
\[\im(g.f.x') = \im(g.\im(f.x').\varepsilon) = \im(g.\im(f.x')) \]
\end{bew}

\begin{lemm}[Regel (e)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $\im(\fib(f,y')) = \fib(\im(f),y')$
&  $f(f^{-1}(Y')) = Y' \cap \Bild(f)$
\\ 2.
&  $\fib_1(f,\im(f.x')) = \im(\join(x', \ker(f)))$
&  $f^{-1}(f(X')) = X' + \Kern(f)$
\end{tabular}
\end{lemm}
\begin{bew}
Zur ersten Gleichung:
Sei eine Epi-Mono-Zerlegung $f=\im(f).\varepsilon$ gegeben.
Dann steht auf der linken Seite $\im(f.\fib_1(f,y')) = \im(\im(f).\varepsilon.\fib_1(f,y')) = \im(f).\im(\varepsilon.\fib_1(f,y'))$ und auf der rechten Seite $\im(f).\fib_1(\im(f),y')$. Es reicht also, zu zeigen, dass
\[ \im(\varepsilon.\fib_1(f,y')) = \fib_1(\im(f),y'). \]
Dazu schreiben wir erst $\varepsilon.\fib_1(f,y')$ um:
\begin{align*}
&\varepsilon.\fib_1(f,y')
\\=& \varepsilon.\fib_1(\im(f).\varepsilon,y')
\\=& \varepsilon.\fib_1(\varepsilon,\fib_1(\im(f),y'))
\\=& \fib_1(\im(f),y').\fib_2(\varepsilon,\fib_1(\im(f),y'))
\end{align*}
Der letzte Term ist eine Komposition eines Monos mit einem Epi, d.h. nach Anwendung von $\im$ überlebt nur der Mono:
\[ \im(\varepsilon.\fib_1(f,y')) = \fib_1(\im(f),y') \]
was zu zeigen war.

Nun zur zweiten Gleichung:
Sei $f = \mu.\varepsilon$ eine Epi-Mono-Zerlegung. Dann haben wir für die linke Seite
\[ \fib_1(\mu.\varepsilon,\im(\mu.\varepsilon.x')) = \fib_1(\mu.\varepsilon, \mu.\im(\varepsilon.x')) = \fib_1(\varepsilon, \im(\varepsilon.x')) \]
und für die rechte Seite
\[ \im(\join(x',\ker(\mu.\varepsilon))) = \im(\join(x',\im(\ker(\mu.\varepsilon))))
= \im(\join(x',\ker(\varepsilon))) \]
Das bedeutet, dass wir oBdA annehmen können, dass $f$ ein Epi ist.
Nach zweimaliger Anwendung des Reflexionsprinzips sind wir auch schon fertig:
\begin{align*}
   & \im(\join(x',\ker f))
\\=& \ker(\cofib(\coker x', (\coker . \ker) f)) \qquad\text{(Reflexionsprinzip)}
\\=& \ker(\cofib(\coker x', f) \qquad \text{($f$ ist Epi, d.h. $\coim(f) = f$)}
\\=& \ker(\cofib_2(\coker x', f).f)
\\=& \ker(\coker(\im(f.x').f)) \qquad \text{(Reflexionsprinzip)}
\\=& \fib_1(f,(\ker.\coker.\im)(f.x')) \qquad \text{(Regel (d).1)}
\\=& \fib_1(f,\im(f.x'))
\end{align*}

 
(Übung: Zeichne zum Beweis der ersten Aussage ein passendes kommutatives Diagramm.)
\end{bew}

\begin{lemm}[Regel (f)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $\im(f.\im\join(x_1,x_2)) = \im\join(\im(f.x_1),\im(f.x_2))$
&  $f(X_1 + X_2) = f(X_1) + f(X_2)$
\\ 2.
&  $\fib_1(f,\fib(y_1,y_2)) = \fib(\fib_1(f,y_1),\fib_1(f,y_2))$
&  $f^{-1}(X_1\cap X_2) = f^{-1}(X_1) \cap f^{-1}(X_2)$
\end{tabular}
\end{lemm}
\begin{bew}
Zur ersten Gleichung: Seien $f.x_i = \im(f.x_i).\varepsilon_i$ ($i=1,2$) Epi-Mono-Zerlegungen.
Dann haben wir
\begin{align*}
   & \im(f.\im(\join(x_1,x_2)))
\\=& \im(f.\join(x_1,x_2)) \qquad \text{(nach (d))}
\\=& \im(\join(f.x_1,f.x_2))
\\=& \im(\join(\im(f.x_1).\varepsilon_1,\im(f.x_2).\varepsilon_2))
\\=& \im(\join(\im(f.x_1),\im(f.x_2)).\para(\varepsilon_1,\varepsilon_2))
\\=& \im(\join(\im(f.x_1),\im(f.x_2))) \quad \text{(eliminiere den Epi)}
\end{align*}

Zur zweiten Gleichung:
Vergleichen wir die linke Seite
\begin{align*}
   & \fib_1(f,\fib(y_1,y_2))
\\=& \fib_1(f,y_1.\fib_1(y_1,y_2))
\\=& \fib_1(f,y_1).\fib_1(\fib_2(f,y_1),\fib_1(y_1,y_2))
\end{align*}
mit der rechten
\begin{align*}
   & \fib(\fib_1(f,y_1),\fib_1(f,y_2))
\\=& \fib_1(f,y_1).\fib_1(\fib_1(f,y_1),\fib_1(f,y_2)),
\end{align*}
so stellt sich heraus, dass wir nur
\[ \fib_1(\fib_2(f,y_1),\fib_1(y_1,y_2)) = \fib_1(\fib_1(f,y_1),\fib_1(f,y_2)) \]
zeigen müssen. Wegen $\fib_2(f,y_1) = \fib_1(y_1,f)$ folgt das aber aus der Assoziativität von Faserprodukten.
\end{bew}

\begin{lemm}[Regel (g), Projektionsformel]
\ \linebreak % Zeilenumbruch

\begin{tabular}{rll}
   1.
&  $\fib_1(f,\im(\join(\im(f.x'),y'))) = \im(\join(x',\fib_1(f,y')))$
&  $f^{-1}(f(X')+Y') = X' + f^{-1}(Y')$
\\ 2.
&  $\im(f.\fib(\fib_1(f,y'),x')) = \fib(y',\im(f.x'))$
&  $f(f^{-1}(Y')\cap X) = Y' \cap f(X')$
\end{tabular}
\end{lemm}
\begin{bew}

Zur ersten Gleichung:
Definiere $q = \coker(y') : Y \to Y/Y'$, dann haben wir
\begin{align*}
   & f^{-1}(f(X') + Y')
\\=& f^{-1}(q^{-1}(q(f(X')))) \qquad \text{(Regel (e))}
\\=& (q.f)^{-1}((q.f)(X')) \qquad \text{(Regel (d))}
\\=& X' + \Kern(q.f) \qquad\text{(Regel (e))}
\\=& X' + f^{-1}(Y') \qquad\text{(Regel (d) und $\Kern(q) = Y'$)}
\end{align*}

Ein Beweis im hier üblichen Kalkül möchte ich auch noch angeben:
\begin{align*}
   & \fib_1(f, \im(\join(\im(f.x'),y')))
\\=& \fib_1(f, \im(\join(\im(f.x'),\ker(q))))
\\=& \fib_1(f, \fib_1(q,\im(q.\im(f.x'))))
\\=& \fib_1(f, \fib_1(q,\im(q.f.x')))
\\=& \fib_1(q.f, \im(q.f.x'))
\\=& \im(\join(x',\ker(q.f)))
\\=& \im(\join(x',\fib_1(f,y')))
\end{align*}

Zur zweiten Gleichung:
Zunächst können wir den inneren Term $f.\fib(\fib_1(f,y'),y')$ als Faserprodukt auffassen:
\begin{align*}
   & f.\fib(\fib_1(f,y'),x')
\\=& f.\fib_1(f,y').\fib_2(x',\fib_1(f,y'))
\\=& y'.\fib_2(f,y').\fib_2(x',\fib_1(f,y'))
\\=& y'.\fib_2(f.x',y')
\\=& \fib(y',f.x')
\end{align*}

Nun folgt $\im(\fib(y',f.x')) = \fib(y',\im(f.x'))$ aus Regel (e), und wir sind fertig.

Alternativ definiere mit $f' = f.x' : X' \to Y$ die Einschränkung von $f$ auf $X'$.

\begin{align*}
   & f(f^{-1}(Y')\cap X')
\\=& f(x'(f'^{-1}(Y'))) \qquad\text{(Regel (d) mit $x'^{-1}(X'_1) = X' \cap X'1$)}
\\=& f'(f'^{-1}(Y')))
\\=& Y' \cap \Bild(f') \qquad\text{(Regel (e))}
\\=& Y' \cap f(X')
\end{align*}
\end{bew}

%%%%%%%%%%%%%%%%%
% UNGLEICHUNGEN %
%%%%%%%%%%%%%%%%%

\begin{lemm}[Regel (h)]
\ \linebreak

\begin{tabular}{ll}
$\im(f.x') \leq y' \Leftrightarrow x' \leq \fib_1(f,y')$
& $f(X') \leq Y' \Leftrightarrow X' \leq f^{-1}(Y')$
\end{tabular}
\end{lemm}
\begin{bew}
\[ \im\join(x',0_{0,X}) = \ker\cofib(\coker x', \coker 0_{0,X})
 = \ker\cofib(\coker x', \id_X) = \ker\coker x' = \im x' = x' \]
Woraus wir $X' + 0 = X'$ erhalten.

Mit Regel (i) und Regel (l) (die ich noch zeigen werde) folgern wir $X' = X' + 0 \leq X' + \Kern f = f^{-1}(f(X')) \leq f^{-1}(Y')$

Die Umkehrrichtung beweisen wir durch Übergang in die Quotienten, wobei wir
die Ordnungserhaltung (Proposition \ref{antitonic}) ausschöpfen:
\begin{align*}
                  & X' \leq f^{-1}(Y')
\\\Leftrightarrow & f^{op}(Y/Y') \leq X/X'
\\\Rightarrow     & Y/Y' \leq (f^{op})^{-1}(X/X') = Y/f(X') \qquad\text{(Reflexionsprinzip und obige Implikation)}
\\\Leftrightarrow & f(X') \leq Y'
\end{align*}
\end{bew}

\begin{lemm}[Regel (i)]
Angenommen $x_1 \leq x_2$. Dann gelten

\begin{tabular}{rll}
   1.
&  $\fib(x_1,x') \leq \fib(x_2,x')$
&  $X_1 \cap X' \leq X_2 \cap X'$
\\ 2.
&  $\im\join(x_1,x') \leq \im\join(x_2,x')$
&  $X_1 + X' \leq X_2 + X'$
\\ 3.
&  $\im(f.x_1) \leq \im(f.x_2)$
&  $f(X_1) \leq f(X_2)$
\end{tabular}
\end{lemm}
\begin{bew}
Seien $j$ ein Mono mit $x_1 = x_2.j$ sowie
$f.x_2 = \im(f.x_2).\varepsilon$ und
$\join(x_2,x') = \im\join(x_2,x').\varepsilon'$ Epi-Mono-Faktorisierungen.

\begin{enumerate}
\item
\[ \fib(x_1,x') = \fib(x_2.j,x')
%= x'.\fib_2(x_2.j,x')
%= x'.\fib_2(x_2,x').\fib_2(j,\fib_1(x_2,x'))
= \fib(x_2,x').\fib_2(j,\fib_1(x_2,x'))
\]
\item
\[ \im\join(x_1,x')
= \im\join(x_2.j,x')
= \im(\join(x_2,x').\para(j,\id_{X'}))
\]\[
= \im\join(x_2,x').\im(\varepsilon'.\para(j,\id_{X'}))
\]
\item
\[ \im(f.x_1) = \im(f.x_2.j) = \im(f.x_2).\im(\varepsilon.j) \]
\end{enumerate}

Da $\fib_2(j,\fib_1(x_2,x')), \im(\varepsilon'.\para(j,\id_{X'})), \im(\varepsilon.j)$ Monos sind, folgt die Behauptung.

\end{bew}

\begin{lemm}[Regel (j)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $x_1 \leq x' \wedge x_2 \leq x' \Leftrightarrow \im\join(x_1,x_2)\leq x'$
&  $X_1 \leq X' \wedge X_2 \leq X' \Leftrightarrow X_1 + X_2 \leq X'$
\\ 2.
&  $x_1\leq x_2 \implies \im\join(x_1,x_2)\leq x_2$
&  $X_1 \leq X_2 \implies X_1 + X_2 = X_2$
\end{tabular}
\end{lemm}
\begin{bew}
Siehe Beweis von Regel (k).
\end{bew}

\begin{lemm}[Regel (k)]
\ \linebreak

\begin{tabular}{rll}
   1.
&  $x' \leq x_1 \wedge x' \leq x_2 \Leftrightarrow x' \leq \fib(x_1,x_2)$
&  $X' \leq X_1 \wedge X' \leq X_2 \Leftrightarrow X' \leq X_1 \cap X_2$
\\ 2.
&  $x_1\leq x_2 \implies \fib(x_1,x_2)  = x_1$
&  $X_1 \leq X_2 \implies X_1 \cap X_2 = X_1$
\end{tabular}
\end{lemm}
\begin{bew}
Ich beweise die Regeln (j) und (k) in einem Rutsch.

Zu (j).1 \glqq$\Rightarrow$\grqq: Seien $j_1,j_2$ Monos mit $x_1 = x'.j_1$ und $x_2 = x'.j_2$.
\[ \im\join(x_1,x_2) = \im\join(x'.j_1,x'.j_2) = x'.\im\join(j_1,j_2) \]

Zu (k).1 \glqq$\Rightarrow$\grqq: Seien $j_1,j_2$ Monos mit $x'=x_1.j_1=x_2.j_2$.
Wegen Proposition \ref{more-fib-calculations} gilt
Definiere nun Monos \[ k_1 := \fib_2(j_1,\fib_1(x_1,x')) \quad
k_2 := \fib_2(j_2,\fib_1(x_1,x_2)) \]
Diese erfüllen nun, wie sich leicht nachrechnen lässt,
\[ \fib(x_1,x_2).(k_2.k_1) = \fib(x_1,x').k_1 = \fib(x',x') \]

Zu (j).1 \glqq$\Leftarrow$\grqq: Folgt aus (k).1  \glqq$\Rightarrow$\grqq (gehe in Quotientenobjekte über)

Zu (k).1 \glqq$\Leftarrow$\grqq: Folgt aus (j).1 \glqq$\Rightarrow$\grqq (gehe in Quotientenobjekte über)

Die restlichen Aussagen (j).2, (k).2 folgen nun einfach aus (j).1 bzw. (k).2 zusammen mit den Ordnungsaxiomen.

\end{bew}



\begin{lemm}[Regel (l)]
\ \linebreak

\begin{tabular}{ll}
   $y_1 \leq y_2 \implies \fib_1(f,y_1) \leq \fib_1(f,y_2)$
&  $Y_1 \leq Y_2 \implies f^{-1}(Y_1) \leq f^{-1}(Y_2)$
\end{tabular}
\end{lemm}
\begin{bew}
Folgt aus Regel (i) durch Übergang in Quotientenobjekte.
\end{bew}

\begin{lemm}[Regel (m)]
\ \linebreak

\begin{tabular}{rll}
% TODO: typo?
   1.
&  $x_2 \leq x_1 \implies \fib(x-1,\im\join(x'+x_2)) = \im\join(\fib(x_1,x'),x_2)$
&  $X_2 \leq X_1 \implies X_1 \cap (X'+X_2) = (X_1\cap X') + X_2$
\\ 2.
&  $\fib(x',\im\join(x_1,x_2)) \leq \im\join(\fib(x_1,\im\join(x',x_2)),x_2)$
&  $X' \cap (X_1 + X_2) \leq X_1 \cap (X' + X_2) + X_2$
\\ 3.
&  Die Aussagen 1 und 2 sind äquivalent.
\end{tabular}
\end{lemm}

\begin{lemm}[Regel (n)]
Ist $(f,f') : (X,X') \to (Y,Y')$ ein Pfeil von 2-Komplexen, und sind $y'' : Y'' \monicr Y', x'' : X'' \monicr X'$ Monos, so gilt

\ \linebreak
\begin{tabular}{rll}
% TODO
   1.
&  $y'.\im(f'.x'') = \im(f.x'.x'')$
&  $f'(X'') = f(X'')$
\\ 2.
&  $y'.\im(f') \leq \im(f)$
&  $\Bild(f') \leq \Bild(f)$
\\ 3.
&  $x'.\fib_1(f',y'') = \fib(\fib_1(f,x'.x''),x')$
&  $(f')^{-1}(Y'') = f^{-1}(X'') \cap X'$
\end{tabular}

\end{lemm}
